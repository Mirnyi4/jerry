<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>–ê–∫—Ç–∏–≤–∞—Ü–∏—è</title>
<style>
  body, html {
    margin: 0; padding: 0; height: 100%;
    background-color: #000;
    color: #fff;
    font-family: 'Courier New', monospace;
    overflow: hidden;
  }
  #container {
    position: relative;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 2;
  }
  #activationVideo {
    position: fixed;
    top: 0; left: 0; width: 100vw; height: 100vh;
    object-fit: cover;
    z-index: -1;
    display: none;
  }
  #activateBtn {
    font-size: 1.8rem;
    padding: 15px 40px;
    cursor: pointer;
    border: none;
    background-color: #4caf50;
    color: white;
    border-radius: 8px;
  }
  .typewriter {
    font-size: 2rem;
    white-space: nowrap;
    border-right: 2px solid #fff;
    overflow: hidden;
    width: 0;
    animation: typing 2s steps(30, end) forwards, blink .7s step-end infinite;
    margin-top: 20px;
  }

  .delay-2s {
    animation-delay: 2s;
  }

  @keyframes typing {
    from { width: 0; }
    to { width: 100%; }
  }

  @keyframes blink {
    50% { border-color: transparent; }
  }
</style>
</head>
<body>
  <div id="container">
    <button id="activateBtn">–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É</button>
    <div id="text1" class="typewriter" style="display:none;">‚úÖ –ê–∫—Ç–∏–≤–æ–≤–∞–Ω–æ!</div>
    <div id="text2" class="typewriter delay-2s" style="display:none;">üöÄ –ó–∞–ø—É—Å–∫–∞—é Jerry.ua</div>
  </div>

  <video id="activationVideo">
    <source src="{{ url_for('static', filename='activation_video.mp4') }}" type="video/mp4" />
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
  </video>

<script>
  const btn = document.getElementById('activateBtn');
  const video = document.getElementById('activationVideo');
  const text1 = document.getElementById('text1');
  const text2 = document.getElementById('text2');

  btn.addEventListener('click', () => {
    btn.style.display = 'none';
    video.style.display = 'block';
    video.muted = false;
    video.play();

    text1.style.display = 'block';

    setTimeout(() => {
      text2.style.display = 'block';
    }, 2000);

    fetch('/start_jerry3', { method: 'POST' })
      .then(res => res.json())
      .then(data => console.log('–ó–∞–ø—É—Å–∫ jerry3.py:', data.status))
      .catch(console.error);

    setTimeout(() => {
      window.location.href = '/main';
    }, 10000);
  });
</script>
</body>
</html>
